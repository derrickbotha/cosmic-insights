# Production Environment Configuration Template
# Copy this file to .env.production and fill in your actual values
# NEVER commit .env.production to git!

# ============================================================
# SECURITY SECRETS - GENERATE STRONG RANDOM VALUES!
# ============================================================
# Use: openssl rand -hex 32
# Or: openssl rand -hex 64 (for 64-byte secrets)

JWT_ACCESS_SECRET=CHANGE_ME_generate_random_64_char_string
JWT_REFRESH_SECRET=CHANGE_ME_generate_different_random_64_char_string
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

CSRF_SECRET=CHANGE_ME_generate_random_32_char_string
ENCRYPTION_KEY=CHANGE_ME_generate_random_32_char_string
COOKIE_SECRET=CHANGE_ME_generate_random_32_char_string

# ============================================================
# DATABASE PASSWORDS - GENERATE STRONG PASSWORDS!
# ============================================================

POSTGRES_PASSWORD=CHANGE_ME_strong_postgres_password
REDIS_PASSWORD=CHANGE_ME_strong_redis_password

# ============================================================
# MINIO OBJECT STORAGE
# ============================================================

MINIO_ACCESS_KEY=CHANGE_ME_20_char_access_key
MINIO_SECRET_KEY=CHANGE_ME_40_char_secret_key

# ============================================================
# POSTAL EMAIL SERVER (if using Postal)
# ============================================================

POSTAL_ROOT_PASSWORD=CHANGE_ME_strong_postal_root_password
POSTAL_DATABASE_PASSWORD=CHANGE_ME_strong_postal_db_password
POSTAL_RABBITMQ_PASSWORD=CHANGE_ME_strong_rabbitmq_password
POSTAL_DOMAIN=mail.yourdomain.com
POSTAL_ADMIN_EMAIL=admin@yourdomain.com

# ============================================================
# EMAIL CONFIGURATION
# ============================================================
# Choose ONE configuration based on your email solution:

# --- Option 1: Postal (Self-Hosted) ---
EMAIL_HOST=postal
EMAIL_PORT=25
EMAIL_SECURE=false
EMAIL_USER=noreply@yourdomain.com
EMAIL_PASSWORD=CHANGE_ME_get_from_postal_ui_after_setup
EMAIL_FROM_NAME=Cosmic Insights
EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# --- Option 2: Gmail SMTP ---
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_SECURE=true
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-16-char-app-password
# EMAIL_FROM_NAME=Cosmic Insights
# EMAIL_FROM_ADDRESS=your-email@gmail.com

# --- Option 3: SendGrid ---
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_SECURE=true
# EMAIL_USER=apikey
# EMAIL_PASSWORD=your_sendgrid_api_key
# EMAIL_FROM_NAME=Cosmic Insights
# EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# ============================================================
# APPLICATION CONFIGURATION
# ============================================================

APP_NAME=Cosmic Insights
NODE_ENV=production

# Change these to your actual domain
APP_DOMAIN=yourdomain.com
CLIENT_URL=https://yourdomain.com
API_URL=https://api.yourdomain.com

# ============================================================
# CORS CONFIGURATION
# ============================================================

CORS_ORIGIN=https://yourdomain.com

# ============================================================
# RATE LIMITING
# ============================================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================
# LOGGING
# ============================================================

LOG_LEVEL=info

# ============================================================
# QUICK SECRET GENERATION COMMANDS
# ============================================================
# Run these commands to generate secure secrets:
#
# PowerShell (Windows):
# [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
#
# Bash (Linux/Mac):
# openssl rand -hex 32
# openssl rand -hex 64
#
# Or use this one-liner to generate 5 secrets:
# for i in {1..5}; do openssl rand -hex 32; done
#
# ============================================================
# SECURITY CHECKLIST
# ============================================================
# Before deploying:
# [ ] All CHANGE_ME values replaced with strong secrets
# [ ] .env.production added to .gitignore
# [ ] Secrets stored securely (GCP Secret Manager, etc.)
# [ ] Domain and DNS configured
# [ ] SSL certificates installed
# [ ] Firewall rules configured
# [ ] Backups configured
# [ ] Monitoring set up
# ============================================================
